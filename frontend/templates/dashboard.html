{% extends "base.html" %}

{% block content %}

<!-- Hero Section -->
<header class="hero dashboard-hero">
    <div class="hero-content">
        <h1 class="hero-title">Welcome, {{ username }}</h1>
        <p class="hero-subtitle">Explore your Digital Twin Dashboard</p>
    </div>
    <div class="hero-animations">
        <div class="animated-circle"></div>
        <div class="animated-circle2"></div>
        <div class="animated-circle3"></div>
        <div class="animated-circle4"></div>
    </div>
</header>

<main>
    <!-- Dashboard Navigation -->
    <section id="dashboard-navigation" class="features-section dashboard-navigation">
        <a href="#overview-section" class="feature dashboard-link">üåü Overview</a>
        <a href="#simulation-section" class="feature dashboard-link">üõ†Ô∏è Simulations</a>
        <a href="{{ url_for('logout') }}" class="feature logout-button">üö™ Logout</a>
    </section>

    <!-- Overview Section -->
    <section id="overview-section" class="dashboard-section scroll-triggered">
        <h2>Overview</h2>
        <div class="score-cards">
            <!-- Environmental Score Card -->
            <div class="score-card feature">
                <h3>üåø Environmental Score</h3>
                <p class="main-score">{{ twin_state.environmental.overall_score }}/100</p>
                <ul class="sub-scores">
                    <li>Transportation: {{ twin_state.environmental.transportation.score }}/100</li>
                    <li>Diet: {{ twin_state.environmental.diet.score }}/100</li>
                    <li>Consumption: {{ twin_state.environmental.consumption.score }}/100</li>
                </ul>
            </div>
            <!-- Health Score Card -->
            <div class="score-card feature">
                <h3>‚ù§Ô∏è Health Score</h3>
                <p class="main-score">{{ twin_state.health.overall_score }}/100</p>
                <ul class="sub-scores">
                    <li>Exercise: {{ twin_state.health.exercise.score }}/100</li>
                    <li>Sleep: {{ twin_state.health.sleep.score }}/100</li>
                    <li>Wellness: {{ twin_state.health.wellness.score }}/100</li>
                </ul>
            </div>
            <!-- Carbon Footprint Card -->
            <div class="score-card feature">
                <h3>üåç Carbon Footprint</h3>
                <p class="main-score">{{ twin_state.carbon_footprint }} tons/year</p>
                <p class="comparison">Global Average: 4 tons/year</p>
            </div>
        </div>
    </section>

    <!-- Simulation Section -->
    <section id="simulation-section" class="dashboard-section scroll-triggered">
        <h2>What-If Simulations</h2>
        <div class="simulation-container feature">
            <label for="change-type">Change Type:</label>
            <select id="change-type" class="simulation-input">
                <option value="transportation">Transportation</option>
                <option value="diet">Diet</option>
                <option value="exercise">Exercise</option>
            </select>
            <label for="change-description">Proposed Change:</label>
            <input type="text" id="change-description" placeholder="e.g., Use public transit 3 days/week">
            <button class="cta-button simulation-button">Simulate Impact</button>
        </div>
        <div id="simulation-results" class="scroll-triggered">
            <!-- Results dynamically populated here -->
        </div>
    </section>
</main>

{% endblock %}
