{% extends "base.html" %}

{% block title %}
    <title>EcoHealth - Dashboard</title>
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
{% endblock %}

{% block content %}
<div class="dashboard-wrapper">
    <header class="hero">
        <div class="hero-content">
            <h1 class="hero-title">Welcome, {{ username }}</h1>
            <p class="hero-subtitle">Explore your personalized dashboard</p>
        </div>
    </header>

    <nav class="dashboard-navigation">
        <a href="#overview-section" class="dashboard-link">🌟 Overview</a>
        <a href="#simulation-section" class="dashboard-link">🛠️ Simulations</a>
        <a href="{{ url_for('logout') }}" class="dashboard-link">🚪 Logout</a>
        <a href="{{ url_for('complete_profile_page') }}" class="dashboard-link">📝 Update Info</a>
    </nav>

    <div class="dashboard-content">
        <!-- Environmental Section -->
        <section id="overview-section">
            <div class="score-card">
                <h3>🌿 Environmental Data</h3>
                <p><strong>Transportation:</strong> {{ user.environmental_data.transportation.primary_mode|default('N/A') }}</p>
                <p><strong>Miles per Day:</strong> {{ user.environmental_data.transportation.miles_per_day|default('N/A') }}</p>
                <p><strong>Diet Type:</strong> {{ user.environmental_data.diet.type|default('N/A') }}</p>
                <p><strong>Composting:</strong> {{ user.environmental_data.diet.composting|default(false) and 'Yes' or 'No' }}</p>
            </div>
        </section>

        <!-- Health Section -->
        <section id="health-section">
            <div class="score-card">
                <h3>❤️ Health Data</h3>
                <p><strong>Exercise Frequency:</strong> {{ user.health_data.exercise.frequency|default('N/A') }}</p>
                <p><strong>Average Sleep Hours:</strong> {{ user.health_data.sleep.average_hours|default('N/A') }}</p>
            </div>
        </section>

        <!-- Simulations -->
        <section id="simulation-section">
            <div class="score-card">
                <h3>🛠️ What-If Simulations</h3>
                <form id="simulation-form">
                    <div>
                        <label for="change-type">Change Type:</label>
                        <select id="change-type" name="change-type" required>
                            <option value="transportation">Transportation</option>
                            <option value="diet">Diet</option>
                            <option value="exercise">Exercise</option>
                        </select>
                    </div>
                    <div>
                        <label for="description">Description:</label>
                        <input type="text" id="description" name="description" required>
                    </div>
                    <button type="submit">Simulate</button>
                </form>
            </div>
        </section>
    </div>
</div>
{% endblock %}

